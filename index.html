<!DOCTYPE html>
<html lang="pt-br">
    <head>
        <meta charset="UTF-8">
        <title>Lovelace Gitionario</title>
        <meta property="og:title" content="Lovelace Gitionario" />
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://luisgustavoczp.github.io/LovelaceApp/" />
        <meta property="og:image" content="https://luisgustavoczp.github.io/LovelaceApp/Images/lovelacelogo.jpeg" />
        <style>
            body {background-color: white;}
            header {background-color:cadetblue; color:white; text-align: center; padding: 5px; display: flex; justify-content:center; flex-direction:column }
            aside { display: flex; justify-content:right; }
            h1 {padding: 5px;}
            .love {color:pink}
            .lace {color:greenyellow}
            .menuopcoes {background-color:cadetblue; padding: 5px; display: flex; justify-content:space-between; }
            .titulo {background-color:black; display: flex; justify-content: center; }
        </style>
    </head>
    <body>
        <nav class="menuopcoes">
            <button>Home</button>
            <aside>
                <button>Equipe</button>
                <button>Contato</button>
            </aside>
        </nav>
        <main>
            <header>
                <div class="titulo">
                    <img src="Images/lovelacelogo.png" height="100px" />
                    <h1><span class="love">Love</span><span class="lace">lace</span>: Gitionário</h1>
                    <img src="Images/logo-alpha-edtech.png" height="100px" />
                </div>
                <h4>Repositorio de informações para turma Lovelace da AlphaEdTech.</h4>
            </header>
            <article>
                <table  id="outputs">
                    
                </table>
            </article>
        </main>
        
    </body>
    <script>
        var outputs = document.getElementById("outputs");
        function LoadFile(filePath) 
        {
            var result = null;
            var xmlhttp = new XMLHttpRequest();
            xmlhttp.open("GET", filePath, false);
            xmlhttp.send();
            /*if (xmlhttp.status==200) {
                result = xmlhttp.responseXML;
            }*/
            console.log(result);
            result = xmlhttp.responseXML;
            return result;
        }

        function ReadXML (filePath)
        {
            var doc = LoadFile(filePath);
            var txts = doc.getElementsByTagName("item");
            var log = document.createElement("P");
            log.innerText += " " + txts.length.toString();
            outputs.appendChild(log);
            for(i = 0; i < txts.length; i++)
            {
                var t = txts[i];
                var tr = document.createElement("TR");
                outputs.appendChild(tr);

                var td = document.createElement("TD");
                td.innerText = t.getAttribute("nome");
                tr.appendChild(td);

                for(j = 0; j < t.childElementCount; j++)
                {
                    var t2 = t.children[j];
                    var td2 = document.createElement("TD");
                    td2.innerText = t2.textContent + (j==0?"/":" ") + t2.getAttribute("tipo");
                    tr.appendChild(td2);
                }
            }
        }

        function processData(data) 
        {
            var txts = data.getElementsByTagName("item");
            var log = document.createElement("P");
            log.innerText += " " + txts.length.toString();
            outputs.appendChild(log);
            for(i = 0; i < txts.length; i++)
            {
                var t = txts[i];
                var tr = document.createElement("TR");
                outputs.appendChild(tr);

                var td = document.createElement("TD");
                td.innerText = t.getAttribute("nome");
                tr.appendChild(td);

                for(j = 0; j < t.childElementCount; j++)
                {
                    var t2 = t.children[j];
                    var td2 = document.createElement("TD");
                    td2.innerText = t2.textContent + (j==0?"/":" ") + t2.getAttribute("tipo");
                    tr.appendChild(td2);
                }
            }
        }

        function handler() {
            if(this.status == 200 && this.responseXML != null) 
            {
                // success!
                processData(this.responseXML);
            } 
            else 
            {

            }
        }

        var client = new XMLHttpRequest();
        client.onload = handler;
        client.open("GET", "textos/texto2.xml");
        client.send();

        //ReadXML("textos/texto2.xml");
        //outputs.innerText += LoadFile("textos/texto2.xml");
    </script>
</html>